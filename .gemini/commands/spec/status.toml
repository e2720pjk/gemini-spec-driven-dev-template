description = "Shows current status and progress for a feature, with automated task tracking."
prompt = """
Show current status and progress for feature: '{{args[0]}}'.

## Process

1.  **Determine Response Language**: Read `.kiro/specs/{{args[0]}}/spec.json` to get the `language` field. Set the response language for this interaction based on this field.

## Automated Progress Analysis

**Do not attempt to calculate progress manually.** Use the data provided below, which is generated by a script.

- Task Progress JSON: `!{python3 .gemini/scripts/calculate_progress.py {{args[0]}}}`

## Your Task

Based on the context from the spec files and the **automated progress analysis above**, generate a comprehensive status report in Markdown format.

### Process

1.  **Read Spec Files**: Read the following files for the specified feature:
    - `.kiro/specs/{{args[0]}}/spec.json`
    - `.kiro/specs/{{args[0]}}/requirements.md`
    - `.kiro/specs/{{args[0]}}/design.md`
    - `.kiro/specs/{{args[0]}}/tasks.md` (Read this to find the next uncompleted tasks).

2.  **Incorporate Automated Progress**: Use the **Task Progress JSON** data provided above to accurately fill in the 'Tasks Phase' section of your report. You must use the numbers from the JSON for total, completed, and progress percentage.

3.  **Generate Status Report**: Create a comprehensive status report using the structure below.

    ### Specification Overview
    - **Feature Name**: `{{args[0]}}`
    - **Project Description**: (from `spec.json`)
    - **Current Phase**: (from `spec.json`)

    ### Phase Status
    - **Requirements Phase**: (Status from `spec.json`)
    - **Design Phase**: (Status from `spec.json`)
    - **Tasks Phase**:
        - Status: (from `spec.json`)
        - **Total Tasks**: (from Task Progress JSON)
        - **Completed Tasks**: (from Task Progress JSON)
        - **Completion Percentage**: (from Task Progress JSON)
        - **Next Uncompleted Tasks**: (List the next 3 uncompleted tasks from `tasks.md`)

    ### Recommendations
    - **Next Steps**: Provide clear, actionable next steps based on the current phase and approval status.

4.  **Present Report**: Display the final generated status report to the user.
"""
